# Архитектура FW Visual Flow Studio

## Модули
1. **Visual Editor** — прототипирование экранов через drag & drop.
2. **Component Repository** — каталог компонентов, рейтинги, зависимости, версионирование.
3. **Scenario Engine** — движок сценариев, фиксирует переходы и состояния.
4. **Data Model** — единая модель данных, доступная компонентам и сценариям.
5. **Test Recorder** — запись последовательности действий для автотестов.
6. **Publish Pipeline** — сборка интерфейса в web, desktop и terminal-пакеты.
7. **Event Router** — маршрутизация событий и обработчиков между компонентами и сервером.
8. **Render Targets** — адаптеры под web, desktop shell и терминальные интерфейсы.

## Поток данных
- Компоненты подписываются на сущности и получают стейты при инициализации.
- События компонентов записываются в сценарии и могут триггерить другие действия.
- Сценарий хранит стартовое состояние + действия пользователя + финальное состояние.
- Контракты данных фиксируют входы/выходы компонентов для автогенерации документации.

## Публикация
1. Экран собирается в единый JSON-описатель.
2. UI рендерится в целевой платформе (React Web, Desktop shell, Terminal UI).
3. Данные и события остаются едиными, отличия только в адаптационном слое.
4. Контроль версий и миграции компонентов идут через repository registry.
